{
  "pluginAlias": "IntercomDoor",
  "pluginType": "accessory",
  "singular": false,
  "headerDisplay": "Homebridge plugin for an Intercom Door with Voltage Measurement.",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Name",
        "type": "string",
        "required": true,
        "description": "Accessory name, e.g., Intercom Door"
      },
      "lockPin": {
        "title": "Lock GPIO pin",
        "type": "integer",
        "required": true,
        "description": "Pin for unlocking lock (use GPIO numbering, not physical)"
      },
      "voltagePin": {
        "title": "Voltage Measurement GPIO pin",
        "type": "integer",
        "required": true,
        "description": "Pin for voltage measurement using a voltage divider (use GPIO numbering, not physical)"
      },
      "activeLow": {
        "title": "Relay activated by low state?",
        "type": "boolean",
        "default": true,
        "description": "true: relay activated by low state (0), false: relay activated by high state (1), affects lockPin, default: true"
      },
      "reedSwitchActiveLow": {
        "title": "Contact sensor relay activated by low state?",
        "type": "boolean",
        "default": true,
        "description": "true: reed switch activated by low state (0), false: reed switch activated by high state (1), affects voltagePin, default: true"
      },
      "unlockingDuration": {
        "title": "Unlocking duration (seconds)",
        "type": "integer",
        "default": 2,
        "description": "How long lockPin should be active (seconds), default: 2"
      },
      "lockWithMemory": {
        "title": "Lock with memory?",
        "type": "boolean",
        "default": true,
        "description": "true: electromagnetic lock that stays unlocked until full door cycle, false: stays unlocked only for unlockingDuration seconds, default: true"
      }
    }
  }
}
